:host {
  display: block;
  padding: 8rem 0;
}

.keyframe-container {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 3rem;
  align-items: center;
  max-width: var(--container-max-width, 1120px);
  margin: 0 auto;
  padding: 0 var(--container-padding, 20px);
}

// --- Contenu Textuel (inchangé) ---
.text-content {
  .title {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
  }
  .description {
    color: var(--text-color-muted, #6b7280);
    line-height: 1.6;
  }
  .cta {
    display: inline-block;
    margin-top: 1.5rem;
    padding: 0.75rem 1.5rem;
    background-color: #eef2ff;
    border-radius: 99px;
    color: var(--primary-color, #1a73e8);
    text-decoration: none;
    font-weight: 500;
  }
}

.visual-content {
  position: relative;
  aspect-ratio: 4 / 3;
}

.layers-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
}

.layer {
  position: absolute;
  will-change: transform;

  // ==========================================================
  //         LA CORRECTION FINALE EST ICI
  // ==========================================================

  // Le fond est STABLE. On le centre parfaitement et ON N'Y TOUCHE PLUS.
  &.layer-browser {
    width: 80%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); // Centrage parfait, position finale.
  }

  // On positionne les icônes à leur point de DÉPART.
  // GSAP va ajouter les transformations PAR-DESSUS ces positions.
  &.icon-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    mat-icon {
      font-size: 32px;
    }
  }

  &.layer-cart {
    width: 80px;
    height: 80px;
    top: 10%;
    left: 5%; // Position initiale
    background-color: #a5b4fc;
    mat-icon {
      color: #3730a3;
    }
  }
  &.layer-clipboard {
    width: 80px;
    height: 80px;
    top: 15%;
    right: -5%; // Position initiale
    background-color: #f1f5f9;
    mat-icon {
      color: #334155;
    }
  }
  &.layer-calendar {
    width: 60px;
    height: 60px;
    bottom: 5%;
    right: 10%; // Position initiale
    background-color: #fca5a5;
    mat-icon {
      color: #b91c1c;
    }
  }
  &.layer-pencil {
    width: 60px;
    height: 60px;
    bottom: 20%;
    left: -2%; // Position initiale
    background-color: #86efac;
    mat-icon {
      color: #15803d;
    }
  }
}
