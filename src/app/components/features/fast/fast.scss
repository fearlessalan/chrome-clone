:host {
  display: block;
}

.fast-section {
  // La section doit avoir une hauteur pour que le "pin" de GSAP fonctionne.
  // On lui donne une hauteur minimale, mais elle sera étirée par le pin.
  min-height: 100vh;
  width: 100%;
  // CRUCIAL : On cache tout ce qui dépasse horizontalement.
  // C'est ce qui cache les cartes qui attendent à droite.
  overflow: hidden;
}

.carousel-container {
  // Le "viewport" de notre carrousel. Il prend toute la hauteur de la section.
  width: 100%;
  height: 100vh;
  display: flex;
  align-items: center;
  // On utilise un padding qui correspond à la marge de notre grille globale.
  padding: 0 24px;
  box-sizing: border-box;
}

.carousel-wrapper {
  // Le conteneur qui bouge horizontalement.
  display: flex;
  // Un gap pour simuler le "grid-gap" de la grille 12 colonnes.
  gap: 24px;
  // La position relative est la base pour les animations "x" de GSAP.
  position: relative;
}

.fast-card {
  flex-shrink: 0; // Empêche les cartes de se compresser.
  border-radius: 1.5rem;
  padding: 2rem;
  box-sizing: border-box;
  height: 500px; // Hauteur fixe pour les cartes à l'état final.

  // ========================================================================
  // LA MAGIE EST ICI : CALCUL DE LARGEUR BASÉ SUR UNE GRILLE 12 COLONNES
  // ========================================================================
  // On calcule la largeur d'une carte qui prendrait 4 colonnes sur 12.
  // Formule : ( (LargeurTotale - PaddingTotal - GapsTotaux) / 12 Colonnes ) * 4 ColonnesVoulues + GapsInternes
  width: calc(((100vw - 48px - 11 * 24px) / 12 * 4) + (3 * 24px));
  // ========================================================================

  // La carte vedette a un layout interne différent.
  &.is-feature {
    display: flex;
    flex-direction: column;
    // Sa taille initiale (100vw, 80vh) est définie directement par GSAP dans le .ts
  }
}

// --- Contenu des cartes ---
.feature-card-content {
  display: grid;
  // Le texte prend l'espace nécessaire, le visuel prend tout le reste.
  grid-template-rows: auto 1fr;
  height: 100%;
  gap: 2rem;

  .title {
    font-size: 2rem;
    font-weight: 700;
  }
  .description {
    line-height: 1.6;
  }
  .cta {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: inherit;
    font-weight: 500;
    mat-icon {
      margin-left: 0.5rem;
    }
  }
  .visual-content {
    border-radius: 1rem;
    overflow: hidden;
    svg {
      width: 100%;
      height: 100%;
      display: block;
    }
  }
}

.normal-card-content {
  display: flex;
  flex-direction: column;
  height: 100%;

  .title {
    font-size: 1.5rem;
    font-weight: 700;
  }
  .description {
    margin-bottom: 1rem;
    flex-grow: 1;
  }
  .visual-content-normal {
    border-radius: 1rem;
    overflow: hidden;
    svg {
      width: 100%;
      height: 100%;
      display: block;
    }
  }
}
